{% extends 'solarmonitoring/niftybase.html' %}

{% block extrahead %}

	<link href="/static/dataglen/css/nv.d3.min.css" rel="stylesheet">
	<link href="/static/solarrms/dist/gridstack.css" rel="stylesheet">
	<link href="/static/solarrms/dist/gridstack-extra.css" rel="stylesheet">

	<style>
		.nvd3 g.nv-groups path.nv-line {
		  stroke-width: 5px;
		}

		.width-70 {
			width: 70px;
		}
	</style>

{% endblock %}
	
{% block body_block %}
	
	<div id="page-title">
		<h1 class="page-header text-overflow"></h1>
	</div>
	<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
	<!--End page title-->

	<!--Page content-->
	<!--===================================================-->
	<div class="device-xs visible-xs"></div>
    <div class="device-sm visible-sm"></div>
    <div class="device-md visible-md"></div>
    <div class="device-lg visible-lg"></div>
    <div class="device-xl visible-xl"></div>

	<div id="page-content">

		<div class="row mar-top" id="row_alert" style="margin-top: 15px;">
		</div>

		<div class="grid-stack">
		</div>

		<div class="row mar-top" id="save_button" style="text-align: center; margin-top: 15px;">
		</div>

	</div>

{% endblock %}

{% block js %}
	
	<script src="/static/dataglen/js/d3.v3.min.js" charset="utf-8"></script>
    <script src="/static/dataglen/js/nv.d3.min.js"></script>
    <script src="/static/solarrms/dist/gridstack.js"></script>
    
    <script>
    	var live_chart = null;

        var plant_capacity = {{ plant.capacity }};
        var current_power = {{ current_power }};
        var plant_location = '{{ plant.openweather }}';
        var plant_slug = '{{ plant.slug }}';
        var present_devices_disconnected = {{ inverters_status.errors|length }};

    </script>

    <script src="/static/solarrms/js/demo/inverter_status_api.js"></script>
    <script src="/static/solarrms/js/demo/plant_power_data.js"></script>
    <script src="/static/solarrms/js/demo/summary.js"></script>
{% endblock %}