{% extends 'solarmonitoring/niftybase.html' %}

{% block extrahead %}
    
    <link href="//cdnjs.cloudflare.com/ajax/libs/datepicker/0.5.0/datepicker.css" rel="stylesheet">
    <link href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker.min.css" rel="stylesheet">
    <link href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-timepicker/0.5.2/css/bootstrap-timepicker.min.css" rel="stylesheet">

    <style>

        .highlight_blue {
            background-color: blue;
        }

        .highlight_plant_aggregator {
            background-color: red;
        }

    </style>

{% endblock %}

{% block body_block %}

                <!--Page content-->
                <!--===================================================-->
                <div id="page-content">

                    <div class="row">
                        <div class="col-lg-12">
                            <div class="col-lg-12" style="padding-left: 0px;padding-right: 0px;">
                                <div id="download_table-panel-network" class="panel" style="height: 69vh;">
                                    <div class="panel-body" style="height: 50vh;" id="performance_indicator_chart_div">
                                        <div class="pad-btm">
                                            <p class="text-lg text-semibold text-uppercase text-thin text-info">Plant Metrics Visualisation</p>
                                            <p class="text-sm text-thin text-semibold"> Visualise a bar chart for any Performance Indicator for the selected aggregator. </p>
                                        </div>
                                        <div class="row" id="options">
                                            <div class="col-lg-7 col-md-7">
                                                <div class="col-lg-3 col-md-3">
                                                    <div class="btn-group">
                                                        <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" type="button" style="    width: 12vw;">
                                                            <span class="plant_metric_parameter" id="plant_metric_parameter">Select a Parameter</span>
                                                            <i class="dropdown-caret"></i>
                                                        </button>
                                                        <ul class="plant_metric_parameter-list dropdown-menu dropdown-menu-left">
                                                            <li value="PR"><a>PR</a></li>
                                                            <li value="CUF"><a>CUF</a></li>
                                                            <li value="SPECIFIC YIELD"><a>SPECIFIC YIELD</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="col-lg-3 col-md-3">
                                                    <div class="btn-group">
                                                        <button class="btn btn-primary dropdown-toggle" data-toggle="dropdown" type="button" style="    width: 12vw;">
                                                            <span class="plant_metric_parameter_aggregator" id="plant_metric_parameter_aggregator">Select an Aggregator</span>
                                                            <i class="dropdown-caret"></i>
                                                        </button>
                                                        <ul class="dropdown-menu dropdown-menu-left plant_metric_parameter_aggregator-list">
                                                            <!-- <li value="DAY"><a>DAY</a></li> -->
                                                            <li value="WEEK"><a>WEEK</a></li>
                                                            <li value="MONTH"><a>MONTH</a></li>
                                                            <li value="YEAR"><a>YEAR</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="col-lg-3 col-md-3">
                                                    <div class="form-group" id="datepicker_selected_plugin">
                                                        <input type="text" class="form-control datepicker_start_days" id="datepicker_selected_picker" placeholder="Pick a Date" style="height: 31px;">
                                                    </div>
                                                </div>
                                                <div class="col-lg-2 col-md-2 col-sm-2">
                                                    <ul class="pager mar-no">
                                                        <li class="next"><a class="btn btn-default" onClick="" id="plant_metrics-update" style="float: left;">Update <i class="fa fa-refresh" aria-hidden="true"></i></a></li>
                                                        <!--<li id="plant_metrics-li-next" class="next disabled"><a class="btn btn-default" id="plant_metrics-next" style="float: right;">Next <i class="fa fa-angle-double-right" aria-hidden="true"></i></a></li>-->
                                                        <!--<li id="plant_metrics-li" class="previous disabled"><a class="btn btn-default" id="plant_metrics-before" style="float: right;"><i class="fa fa-angle-double-left" aria-hidden="true"></i> Previous</a></li>-->
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row text-center" id="performance_indicator_headings"></div>
                                        <canvas id="performance_indicator_chart"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--===================================================-->
                <!--End page content-->


{% endblock %}

{% block js %}
    <script src="/static/dataglen/js/date.format.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.bundle.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/js/bootstrap-datepicker.min.js" type="text/javascript"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-timepicker/0.5.2/js/bootstrap-timepicker.min.js" type="text/javascript"></script>

    <script>
        var plant_slug = '{{ plant.slug }}';
        var source_key = '{{ plant_meta.sourceKey }}';

        var plant_metadata_calculate_hourly_pr = null;
        
    </script>

    <script src="/static/solarrms/js/demo/plant_metrics.js"></script>

{% endblock %}